[gd_scene load_steps=35 format=3 uid="uid://dppu1vhjy1n1g"]

[ext_resource type="Script" path="res://demos/tiny_wizard/items/pickable_bomb/exploding_bomb/exploding_bomb.gd" id="1_jlf8b"]
[ext_resource type="Texture2D" uid="uid://2i8fpu882uck" path="res://demos/tiny_wizard/assets/placeholder_art/items/Bomb.png" id="2_4tqbq"]
[ext_resource type="Texture2D" uid="uid://07bwu3183fl" path="res://demos/tiny_wizard/assets/placeholder_art/Shadow.png" id="3_6a5oo"]
[ext_resource type="Texture2D" uid="uid://cfxy3terlme3j" path="res://demos/tiny_wizard/assets/placeholder_art/cirle_particle.png" id="3_ve3s1"]
[ext_resource type="Texture2D" uid="uid://dlv23kkux0vfm" path="res://demos/tiny_wizard/assets/placeholder_art/bomb_explode.png" id="4_f2uw6"]
[ext_resource type="Texture2D" uid="uid://b4iye6o3bt4bf" path="res://demos/tiny_wizard/assets/placeholder_art/GroundBombTrace.png" id="5_m0bgr"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_3dfhm"]
friction = 100.0
rough = true
bounce = 0.35

[sub_resource type="Curve" id="Curve_5pkwd"]
_data = [Vector2(0, 1), 0.0, 1.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_jvw6x"]
curve = SubResource( "Curve_5pkwd" )

[sub_resource type="ParticlesMaterial" id="ParticlesMaterial_ctqlr"]
particle_flag_disable_z = true
direction = Vector3(100, 0, 0)
spread = 180.0
gravity = Vector3(0, 5, 0)
initial_velocity_max = 8.86
orbit_velocity_min = 0.0
orbit_velocity_max = 0.0
scale_min = 0.07
scale_max = 0.11
scale_curve = SubResource( "CurveTexture_jvw6x" )
color = Color(1, 0.85098, 0.211765, 1)

[sub_resource type="ParticlesMaterial" id="ParticlesMaterial_a2mvr"]
particle_flag_disable_z = true
direction = Vector3(100, 0, 0)
spread = 180.0
gravity = Vector3(0, 5, 0)
initial_velocity_max = 8.86
orbit_velocity_min = 0.0
orbit_velocity_max = 0.0
scale_min = 0.07
scale_max = 0.18
scale_curve = SubResource( "CurveTexture_jvw6x" )
color = Color(1, 0.0941176, 0, 1)

[sub_resource type="CircleShape2D" id="CircleShape2D_hxqpl"]
radius = 8.0

[sub_resource type="CircleShape2D" id="CircleShape2D_jhpt5"]
radius = 125.004

[sub_resource type="AtlasTexture" id="AtlasTexture_vyvwp"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(0, 0, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_yvpuo"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(344, 0, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_gnbpv"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(688, 0, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_shunk"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(1032, 0, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_3qyrh"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(0, 344, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_jp7fj"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(344, 344, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_7ej7n"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(688, 344, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_ulegm"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(1032, 344, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_34snk"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(0, 688, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_xuy8u"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(344, 688, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_udpij"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(688, 688, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_loqmc"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(1032, 688, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_46a6u"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(0, 1032, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_p8crt"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(344, 1032, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_ny81j"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(688, 1032, 344, 344)

[sub_resource type="AtlasTexture" id="AtlasTexture_5hq2n"]
atlas = ExtResource( "4_f2uw6" )
region = Rect2(1032, 1032, 344, 344)

[sub_resource type="SpriteFrames" id="SpriteFrames_3ueob"]
animations = [{
"frames": [null, SubResource( "AtlasTexture_vyvwp" ), SubResource( "AtlasTexture_yvpuo" ), SubResource( "AtlasTexture_gnbpv" ), SubResource( "AtlasTexture_shunk" ), SubResource( "AtlasTexture_3qyrh" ), SubResource( "AtlasTexture_jp7fj" ), SubResource( "AtlasTexture_7ej7n" ), SubResource( "AtlasTexture_ulegm" ), SubResource( "AtlasTexture_34snk" ), SubResource( "AtlasTexture_xuy8u" ), SubResource( "AtlasTexture_udpij" ), SubResource( "AtlasTexture_loqmc" ), SubResource( "AtlasTexture_46a6u" ), SubResource( "AtlasTexture_p8crt" ), SubResource( "AtlasTexture_ny81j" ), SubResource( "AtlasTexture_5hq2n" )],
"loop": false,
"name": &"explosion",
"speed": 25.0
}]

[sub_resource type="Animation" id="Animation_8xfum"]
resource_name = "Disappear"
length = 0.06
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RigidDynamicBody2D/Sprite:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.04, 0.06),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(1, 1), Vector2(1, 0.4), Vector2(0, 0)]
}

[sub_resource type="Animation" id="Animation_2ge80"]
resource_name = "Explode"
length = 2.5
step = 0.01
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RigidDynamicBody2D/Sprite:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.07, 0.15, 1.85, 1.94),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1),
"update": 0,
"values": [Vector2(0, 0), Vector2(1, 0.4), Vector2(1, 1), Vector2(1, 1), Vector2(1.795, 0.697)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("RigidDynamicBody2D/Sprite:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0.48, 0.49, 0.53, 0.71, 0.72, 0.76, 1.05, 1.06, 1.1, 1.5, 1.51, 1.55, 1.65, 1.66, 1.7, 1.74, 1.85, 1.86, 1.93, 1.97, 1.99),
"transitions": PackedFloat32Array(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 0, 0.0799975, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 0, 0.0799975, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 0, 0.0799975, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 0, 0.0799975, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 0, 0.0799975, 1), Color(1, 0, 0.0799975, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 1), Color(1, 0, 0.0799975, 1), Color(1, 0, 0.0799975, 1), Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("RigidDynamicBody2D/Shadow:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(1.96, 1.99),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 0.364706), Color(1, 1, 1, 0)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("RigidDynamicBody2D:collision_mask")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.01, 0.61),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [17, 19]
}
tracks/4/type = "method"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath(".")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(1.97, 2.5),
"transitions": PackedFloat32Array(1, 1),
"values": [{
"args": [],
"method": &"explode"
}, {
"args": [],
"method": &"queue_free"
}]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("RigidDynamicBody2D/GroundBombTrace:visible")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0.03, 2.01),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [false, true]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("RigidDynamicBody2D/Sprite/GPUParticles2D2:emitting")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0, 1.88, 1.97),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, true, false]
}
tracks/7/type = "value"
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/path = NodePath("RigidDynamicBody2D/Sprite/GPUParticles2D:emitting")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/keys = {
"times": PackedFloat32Array(0, 1.88, 1.97),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, true, false]
}

[sub_resource type="Animation" id="Animation_2vanl"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("RigidDynamicBody2D/Sprite:scale")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(1, 1)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("RigidDynamicBody2D/Sprite:modulate")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("RigidDynamicBody2D/Shadow:modulate")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Color(1, 1, 1, 1)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("RigidDynamicBody2D:collision_mask")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [19]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("RigidDynamicBody2D/GroundBombTrace:visible")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [false]
}
tracks/5/type = "value"
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/path = NodePath("RigidDynamicBody2D/Sprite/GPUParticles2D2:emitting")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [true]
}
tracks/6/type = "value"
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/path = NodePath("RigidDynamicBody2D/Sprite/GPUParticles2D:emitting")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [true]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_i1gif"]
_data = {
"Disappear": SubResource( "Animation_8xfum" ),
"Explode": SubResource( "Animation_2ge80" ),
"RESET": SubResource( "Animation_2vanl" )
}

[node name="ExplodingBomb" type="Node2D"]
y_sort_enabled = true
script = ExtResource( "1_jlf8b" )

[node name="RigidDynamicBody2D" type="RigidDynamicBody2D" parent="."]
y_sort_enabled = true
collision_layer = 16
collision_mask = 19
inertia = 1.0
physics_material_override = SubResource( "PhysicsMaterial_3dfhm" )
gravity_scale = 0.0
contacts_reported = 1
contact_monitor = true
lock_rotation = true
linear_damp = 1.106

[node name="Sprite" type="Sprite2D" parent="RigidDynamicBody2D"]
position = Vector2(-2, -14)
y_sort_enabled = true
texture = ExtResource( "2_4tqbq" )

[node name="GPUParticles2D2" type="GPUParticles2D" parent="RigidDynamicBody2D/Sprite"]
position = Vector2(-16, -9)
lifetime = 1.69
speed_scale = 3.51
process_material = SubResource( "ParticlesMaterial_ctqlr" )
texture = ExtResource( "3_ve3s1" )

[node name="GPUParticles2D" type="GPUParticles2D" parent="RigidDynamicBody2D/Sprite"]
position = Vector2(-16, -9)
speed_scale = 3.51
process_material = SubResource( "ParticlesMaterial_a2mvr" )
texture = ExtResource( "3_ve3s1" )

[node name="CollisionShape2D" type="CollisionShape2D" parent="RigidDynamicBody2D"]
y_sort_enabled = true
shape = SubResource( "CircleShape2D_hxqpl" )

[node name="Shadow" type="Sprite2D" parent="RigidDynamicBody2D"]
position = Vector2(1, 0)
scale = Vector2(0.399, 0.266)
z_index = -1
texture = ExtResource( "3_6a5oo" )

[node name="ExplodingArea" type="Area2D" parent="RigidDynamicBody2D"]
collision_layer = 32
collision_mask = 90

[node name="CollisionShape2D" type="CollisionShape2D" parent="RigidDynamicBody2D/ExplodingArea"]
modulate = Color(1, 0.231373, 0.164706, 0.415686)
shape = SubResource( "CircleShape2D_jhpt5" )

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="RigidDynamicBody2D"]
position = Vector2(1, -1)
y_sort_enabled = true
frames = SubResource( "SpriteFrames_3ueob" )
animation = &"explosion"
offset = Vector2(1, -3)

[node name="GroundBombTrace" type="Sprite2D" parent="RigidDynamicBody2D"]
visible = false
position = Vector2(-1, 6)
z_index = -1
texture = ExtResource( "5_m0bgr" )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
autoplay = "Explode"
libraries = {
"": SubResource( "AnimationLibrary_i1gif" )
}

[connection signal="body_shape_entered" from="RigidDynamicBody2D/ExplodingArea" to="." method="_on_exploding_area_body_shape_entered"]
[connection signal="body_shape_exited" from="RigidDynamicBody2D/ExplodingArea" to="." method="_on_exploding_area_body_shape_exited"]
